/* ===== 基本設定 ===== */
html { scroll-behavior: smooth; }
:root{
  --bg: #f7f9ff;
  --bg-accent1: rgba(40, 80, 255, .06);
  --bg-accent2: rgba(34, 197, 94, .06);
  --card: #ffffff;
  --muted: #4b586f;
  --text: #0b1020;
  --brand: #2f57ff;
  --brand-2: #3b6cff;
  --accent: #16a34a;
  --danger: #dc2626;
  --border: rgba(14, 30, 64, .10);
  --shadow: 0 10px 30px rgba(14, 30, 64, .10);
  --radius: 18px;
}
*{ box-sizing: border-box; }
html, body{ height:100%; }
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "PingFang TC", "Noto Sans TC", "Microsoft JhengHei", sans-serif;
  font-size:18px; line-height:1.7; color:var(--text);
  background:
    radial-gradient(1000px 500px at 15% -10%, var(--bg-accent1), transparent),
    radial-gradient(800px 480px at 95% 0%, var(--bg-accent2), transparent),
    var(--bg);
}

/* ===== Header（含手機版漢堡選單） ===== */
.navbar{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(10px);
  background: color-mix(in lab, var(--bg) 75%, #fff 25%);
  border-bottom:1px solid var(--border);
}
.nav-inner{ max-width:1100px; margin:0 auto; padding:12px 20px; display:flex; align-items:center; gap:12px; }
.brand{ display:flex; align-items:center; gap:10px; text-decoration:none; color:var(--text); font-weight:700; font-size:20px; }
.brand-badge{ width:40px; height:40px; border-radius:50%; display:grid; place-items:center; color:#fff; background: linear-gradient(135deg, var(--brand), var(--brand-2)); box-shadow:var(--shadow); font-weight:800; }
.nav-links{ margin-left:auto; display:flex; gap:12px; flex-wrap:wrap; }
.nav-links a{ color:var(--text); text-decoration:none; padding:10px 14px; border-radius:999px; border:1px solid transparent; font-size:18px; }
.nav-links a:hover{ background: rgba(0,0,0,.04); }
.nav-links a.active{ border-color: var(--brand-2); background: rgba(59,108,255,.08); }

/* 手機選單按鈕 */
.menu-btn{ display:none; margin-left:auto; width:40px; height:40px; border-radius:10px; border:1px solid var(--border); background:#fff; box-shadow:var(--shadow); cursor:pointer; }
.menu-btn .bar{ display:block; width:22px; height:2px; background: #1f2a44; margin:6px auto; border-radius:2px; }

/* 手機版導覽（overlay dropdown） */
@media (max-width: 720px){
  .menu-btn{ display:block; }
  .nav-links{
    position: fixed; top: 64px; left: 12px; right: 12px;
    display:none; flex-direction: column; gap:8px;
    background:#fff; border:1px solid var(--border); border-radius:14px; box-shadow: var(--shadow);
    padding:10px;
  }
  .nav-links.open{ display:flex; }
}

/* ===== Section 共用 ===== */
.section-head{ max-width:1100px; margin:0 auto; padding:20px 20px 0; }
section{ padding-bottom: 18px; }
h2{ font-size: clamp(24px, 4.5vw, 32px); margin: 0 0 10px; }
.tools{ display:flex; gap:10px; flex-wrap:wrap; margin: 10px 0 12px; }
.search{ position:relative; flex:1 1 360px; }
.search input{ width:100%; padding: 12px 14px 12px 42px; border-radius: 12px; border:1px solid var(--border); background:#fff; color:var(--text); }
.search .icon{ position:absolute; top:50%; left:12px; transform: translateY(-50%); opacity:.6; }

/* 分類按鈕（晶片） */
.chips{ display:flex; gap:8px; flex-wrap:wrap; }
.chip{ padding:8px 12px; border-radius:999px; border:1px solid #e6e9f3; background:#fff; color:#334155; cursor:pointer; user-select:none; box-shadow: 0 1px 0 rgba(0,0,0,.02); }
.chip.active{ background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff; border-color: transparent; }

/* ===== 最新消息：列表 ===== */
.news-list{ max-width:1100px; margin:0 auto; padding:0 20px 24px; display:grid; gap:14px; }
.card{ background:#fff; border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); padding:16px; }
.n-head{ display:flex; align-items:baseline; gap:10px; }
.badge{ display:inline-flex; align-items:center; gap:6px; padding:3px 8px; border-radius:999px; font-size:14px; background: rgba(59,108,255,.12); color: var(--brand-2); border:1px solid rgba(59,108,255,.25); }
.badge.new{ background: rgba(34,197,94,.15); color:#128a3e; border-color: rgba(34,197,94,.35); }
.n-title{ font-weight:700; font-size:20px; margin-right:auto; }
.n-date{ color:var(--muted); font-size:16px; }
.n-body{ margin-top:8px; color: color-mix(in lab, var(--text) 90%, transparent); }
.attachments{ display:flex; gap: 10px; flex-wrap:wrap; margin-top:10px; }
.a-btn{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; border:1px dashed var(--border); text-decoration:none; color:var(--text); background:#fff; }
.a-btn:hover{ background: rgba(0,0,0,.04); }

/* ===== 下載專區：卡片網格 ===== */
.dl-grid{ max-width:1100px; margin:0 auto; padding:0 20px 24px; display:grid; grid-template-columns: repeat(12,1fr); gap:14px; }
.dl-card{ grid-column: span 6; background:#fff; border:1px solid var(--border); border-radius:16px; box-shadow:var(--shadow); padding:16px; display:grid; grid-template-columns: auto 1fr auto; gap:12px; align-items:center;}
.file-ico{ width:42px; height:42px; border-radius:10px; display:grid; place-items:center; background: rgba(59,108,255,.1); color:var(--brand-2); font-weight:800; }
.dl-title{ font-weight:700; font-size:18px; }
.dl-meta{ color:var(--muted); font-size:14px; }
.dl-action a{ text-decoration:none; border:1px solid var(--border); padding:8px 12px; border-radius:10px; background:#fff; color:var(--text); }
.dl-action a:hover{ background: rgba(0,0,0,.04); }

/* ===== 頁尾：聯絡＋營業時間（合一卡片）＋ 地圖 ===== */
footer{ max-width:1100px; margin:0 auto; padding: 30px 20px 80px; color:var(--muted); }
footer h2{ color:var(--text); margin: 0 0 10px; }
.footer-grid{ display:grid; grid-template-columns: 1.3fr 1fr; gap:20px; align-items:start; }

.contact-hours{ padding: 16px; }
.ch-row{ display:flex; gap:12px; align-items:center; padding-bottom:10px; border-bottom:1px dashed var(--border); margin-bottom:12px; }
.ch-icon{ width:36px; height:36px; border-radius:10px; background: rgba(59,108,255,.1); color:var(--brand-2); display:grid; place-items:center; flex:0 0 36px; }
.ch-icon svg{ width:20px; height:20px; fill: currentColor; }
.ch-title{ font-weight:700; color:var(--text); }
.ch-text a{ color:var(--text); text-decoration:none; border-bottom:1px dashed rgba(59,108,255,.35); }
.ch-text a:hover{ color:var(--brand-2); }
.ch-hours{ margin-top:6px; }
.ch-hours-title{ display:flex; align-items:center; gap:8px; font-weight:700; color:var(--text); margin-bottom:8px; }
.ch-hours-title svg{ width:18px; height:18px; stroke: currentColor; fill:none; stroke-width:2; }

/* === 營業時間：自然順序 + 桌機重排 === */
.hours-list{
  list-style:none; padding:0; margin:0;
  display:grid; grid-template-columns: 1fr 1fr;
  /* 指定桌機的擺位：一/五、二/六、三/日、四 */
  grid-template-areas:
    "mon fri"
    "tue sat"
    "wed sun"
    "thu .";
  gap:10px 24px;
}
.hours-list li{ display:flex; justify-content:space-between; padding:6px 0; border-bottom:1px dashed var(--border); font-size:18px; }
.hours-list li:last-child{ border-bottom:0; }
.hours-list .closed{ color: var(--danger); font-weight:700; }

/* 對應 grid-area（HTML 順序不變） */
.hours-list .d1{ grid-area: mon; }
.hours-list .d2{ grid-area: tue; }
.hours-list .d3{ grid-area: wed; }
.hours-list .d4{ grid-area: thu; }
.hours-list .d5{ grid-area: fri; }
.hours-list .d6{ grid-area: sat; }
.hours-list .d7{ grid-area: sun; }

/* 手機：單欄且順序為一→日（靠 grid-template-areas 指定） */
@media (max-width: 900px){
  .hours-list{
    grid-template-columns: 1fr;
    grid-template-areas:
      "mon" "tue" "wed" "thu" "fri" "sat" "sun";
  }
}

/* 地圖卡 */
.map-card{ padding:16px; }
.map-wrap{ border-radius:14px; overflow:hidden; border:1px solid var(--border); box-shadow: var(--shadow); aspect-ratio: 4/3; background:#eef2ff; }
.map-wrap iframe{ width:100%; height:100%; border:0; }
.map-actions{ display:flex; justify-content:flex-end; margin-top:12px; }
.btn{ display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px; border:1px solid var(--border); background:#fff; color:var(--text); text-decoration:none; cursor:pointer; }
.btn:hover{ background: rgba(0,0,0,.04); }

/* 版權列 */
.legal{ margin-top: 22px; border-top:1px dashed var(--border); padding-top:14px; text-align:center; font-size:16px; }

/* 返回頂部 */
.back-to-top{
  position:fixed; right:18px; bottom:18px; z-index:60;
  padding:12px 14px; border-radius:999px; border:1px solid var(--border); background:#fff; color:var(--text);
  box-shadow:var(--shadow); display:none; font-size:18px;
}
.back-to-top.show{ display:inline-flex; }

/* RWD：下載卡片改單欄、頁尾堆疊、手機導覽尺寸 */
@media (max-width: 1000px){
  .dl-card{ grid-column: span 12; }
}
@media (max-width: 900px){
  .footer-grid{ grid-template-columns: 1fr; }
}
@media (max-width: 720px){
  .nav-links a{ font-size:16px; }
}
.visually-hidden{ position:absolute; width:1px; height:1px; margin:-1px; padding:0; overflow:hidden; clip:rect(0 0 0 0); border:0; }
/* === 新增：重要公告 Modal === */
.modal-backdrop[hidden],
.modal[hidden]{ display:none !important; }

.modal-backdrop{
  position: fixed; inset: 0;
  background: rgba(10,20,40,.45);
  backdrop-filter: blur(4px);
  z-index: 1000;
}

.modal{
  position: fixed; inset: 0;
  display: grid; place-items: center;
  z-index: 1001; padding: 16px;
}

.modal > *{
  max-width: 720px; width: min(720px, 100%);
}

.modal .modal-header{
  display:flex; align-items:center; justify-content:space-between;
  background:#fff; border:1px solid var(--border); border-bottom:0;
  border-radius: 18px 18px 0 0; padding: 12px 16px 8px;
  box-shadow: var(--shadow);
}

.modal-badge{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border-radius:999px;
  background: rgba(220,38,38,.12); color:#b91c1c; font-weight:700; font-size:14px;
  border:1px solid rgba(220,38,38,.28);
}

.modal-close{
  border:1px solid var(--border); background:#fff; color:var(--text);
  width:36px; height:36px; border-radius:10px; cursor:pointer;
}

.modal-title{
  margin:0; padding: 14px 18px 0;
  background:#fff; border-left:1px solid var(--border); border-right:1px solid var(--border);
  font-size: 22px; font-weight:800;
}

.modal-content{
  background:#fff; border-left:1px solid var(--border); border-right:1px solid var(--border);
  padding: 6px 18px 10px; color: var(--text);
}

.ann-list{ margin: 8px 0 0 22px; }
.ann-list li{ margin: 6px 0 10px; line-height:1.8; }

.modal-actions{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  background:#fff; border:1px solid var(--border);
  border-radius: 0 0 18px 18px; padding:12px 16px 14px;
  box-shadow: var(--shadow);
}

.modal-checkbox{ display:flex; align-items:center; gap:8px; font-size:16px; color:var(--muted); }
.modal-buttons{ display:flex; gap:8px; }
.btn.primary{ border-color: transparent; background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff; }

@media (max-width: 560px){
  .modal-title{ font-size: 20px; }
  .ann-list{ margin-left: 20px; }
  .modal-actions{ flex-direction: column; align-items: stretch; }
  .modal-buttons{ justify-content: flex-end; }
}

/* === 背景浮水印（LOGO） === */
/* LOGO 檔案放在與 index.html 同層：營造工會LOGO.jpg */
body{ position: relative; }
body::after{
  content:"";
  position: fixed; inset: 0;
  background: url("營造工會LOGO.jpg") center / 380px no-repeat;
  opacity: .06;           /* 透明度：可依需要調整 0.04～0.10 */
  pointer-events: none;   /* 不遮到點擊 */
  z-index: 0;
}
/* 主要內容疊在浮水印之上 */
header, main, footer{ position: relative; z-index: 1; }
/* 手機改小一點 */
@media (max-width: 720px){
  body::after{ background-size: 220px; }
}
/* 列印時關閉浮水印 */
@media print{
  body::after{ display:none; }
}


/* === 創會大事記 === */
#history{ padding-bottom: 24px; }
.history-wrap{
  max-width:1100px; margin:0 auto;
  padding: 0 20px 24px;
  display:grid; grid-template-columns: 1fr 1fr; gap: 16px;
}
.history-figure{ margin:0; }
.history-figure img{
  width:100%; height:auto; display:block;
  border-radius:16px; border:1px solid var(--border); box-shadow: var(--shadow);
  background:#fff;
}
.history-figure figcaption{
  text-align:center; color:var(--muted); font-size:14px; margin-top:6px;
}

/* 右側條列（垂直導引線 + 日期 + 內容） */
.milestones{ list-style:none; padding:0; margin:0; border-left:3px solid #e6e9f3; padding-left:16px; }
.milestones li{ margin: 10px 0 14px; position: relative; }
.milestones li::before{
  content:""; position:absolute; left:-21px; top:.55em;
  width:10px; height:10px; border-radius:50%;
  background: var(--brand-2); box-shadow: 0 0 0 3px rgba(59,108,255,.15);
}
.m-date{ font-weight:700; color:var(--text); }
.m-body{ color: color-mix(in lab, var(--text) 90%, transparent); }

/* RWD：手機單欄，圖片在上、條列在下 */
@media (max-width: 900px){
  .history-wrap{ grid-template-columns: 1fr; }
}
